# STORY-001-001: TypeScript Foundation Setup

## Story Information
- **Story ID**: STORY-001-001
- **Epic**: [EPIC-001: AI-Powered Email App Development](README.md)
- **Title**: TypeScript Foundation Setup
- **Status**: In Progress
- **Priority**: High
- **Estimate**: 3 Story Points
- **Assignee**: Claude Code
- **Sprint**: Interview Assignment Sprint

## Description
Convert the existing JavaScript codebase to TypeScript and install all necessary dependencies for AI integration. This foundational story establishes the TypeScript environment for both frontend and backend, enabling type safety and preparing the codebase for LangChain integration.

## Acceptance Criteria
- [ ] Backend converted from JavaScript to TypeScript with proper compilation
- [ ] Frontend configured for TypeScript with Next.js type support
- [ ] All LangChain and OpenAI dependencies installed and configured
- [ ] TypeScript compilation passes without errors for both projects
- [ ] Development servers start successfully with TypeScript support

## Subtasks

### 1. Backend TypeScript Conversion
- [ ] Install TypeScript, @types/node, and ts-node in backend
- [ ] Convert index.js to index.ts with proper typing
- [ ] Convert src/routes/index.js to TypeScript with Fastify types
- [ ] Convert src/db/index.js to TypeScript with Knex types
- [ ] Update package.json scripts for TypeScript compilation

### 2. Frontend TypeScript Configuration
- [ ] Install TypeScript and React type definitions
- [ ] Rename .js files to .tsx where React components exist
- [ ] Update Next.js configuration for TypeScript support
- [ ] Convert pages/_app.js to TypeScript
- [ ] Convert pages/index.js to TypeScript

### 3. AI Integration Dependencies
- [ ] Install @langchain/core and @langchain/openai in backend
- [ ] Install necessary OpenAI SDK dependencies
- [ ] Set up environment variable structure for API keys
- [ ] Configure TypeScript types for LangChain integration

### 4. Verification
- [ ] Both frontend and backend compile without TypeScript errors
- [ ] Development servers start successfully
- [ ] All installed packages are properly typed
- [ ] Basic health check endpoints respond correctly

## Technical Notes
- Use minimal typing approach to stay within time constraints
- Leverage 'any' types for complex objects to avoid deep typing issues
- Focus on interface contracts rather than comprehensive type coverage
- Keep Knex database types simple using basic TypeScript interfaces
- Use Next.js built-in TypeScript support for automatic configuration

## Files to Modify
```
backend/package.json
backend/index.js → backend/index.ts
backend/src/routes/index.js → backend/src/routes/index.ts
backend/src/db/index.js → backend/src/db/index.ts
backend/tsconfig.json (create)
frontend/package.json
frontend/src/pages/_app.js → frontend/src/pages/_app.tsx
frontend/src/pages/index.js → frontend/src/pages/index.tsx
frontend/tsconfig.json (auto-generated by Next.js)
```

## Environment Configuration
Set up basic environment structure:
```bash
# Backend .env file structure
OPENAI_API_KEY=your_api_key_here
PORT=3001
NODE_ENV=development
```

## Definition of Done
- [ ] All JavaScript files converted to TypeScript equivalents
- [ ] TypeScript compilation successful on both frontend and backend
- [ ] Development environment starts without errors
- [ ] LangChain dependencies properly installed and typed
- [ ] Code review completed
- [ ] Changes committed to version control

## Dependencies
None - This is the foundational story for the epic

## Blockers
None identified

## Testing Notes
- Run `yarn build` on frontend to ensure TypeScript compilation
- Run `tsc --noEmit` on backend to verify type checking
- Ensure development servers start with `yarn dev` commands
- Verify basic API endpoints still respond after conversion

---
**Created**: 2025-08-20
**Last Updated**: 2025-08-20